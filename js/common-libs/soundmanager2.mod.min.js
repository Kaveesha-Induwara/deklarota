(function(a){function e(b,d,e){function cb(a){return function(b){var c=this._t;if(!c||!c._a){if(c&&c.sID){h._wD(l+"ignoring "+b.type+": "+c.sID)}else{h._wD(l+"ignoring "+b.type)}return null}else{return a.call(this,b)}}}this.flashVersion=8;this.debugMode=true;this.debugFlash=false;this.useConsole=true;this.consoleOnly=true;this.waitForWindowLoad=false;this.bgColor="#ffffff";this.useHighPerformance=false;this.flashPollingInterval=null;this.html5PollingInterval=null;this.flashLoadTimeout=1e3;this.wmode=null;this.allowScriptAccess="always";this.useFlashBlock=false;this.useHTML5Audio=true;this.html5Test=/^(probably|maybe)$/i;this.preferFlash=true;this.noSWFCache=false;this.domContainer=document.createElement("div");var f=this;this.getC=function(){return f.domContainer};if(e&&e===Object(e)){c(this,e,false,["allowScriptAccess","altURL","consoleOnly","debugFlash","debugMode","defaultOptions","flash9Options","features","flashLoadTimeout","flashVersion","movieStarOptions","url","useConsole","useFastPolling","flashPollingInterval","useFlashBlock","useHighPerformance","useHTML5Audio","useMovieStar","wmode","waitForWindowLoad"])}this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:true},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:false},ogg:{type:["audio/ogg; codecs=vorbis"],required:false},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:false}};this.defaultOptions={autoLoad:false,autoPlay:false,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:true,multiShotEvents:false,position:null,pan:0,stream:true,to:null,type:null,usePolicyFile:false,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.movieID="sm2-container";this.id=d||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120318";this.version=null;this.movieURL=null;this.url=b||null;this.altURL=null;this.swfLoaded=false;this.enabled=false;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.didFlashBlock=false;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.hasHTML5=function(){try{return typeof Audio!=="undefined"&&typeof (new Audio).canPlayType!=="undefined"}catch(a){return false}}();this.html5={usingFlash:null};this.flash={};this.html5Only=false;this.ignoreFlash=false;var g,h=this,i=null,j="soundManager",k=j+"::",l="HTML5::",m,n=navigator.userAgent,o=a,p=o.location.href.toString(),q=document,r,s,t,u=[],v=true,w,x=false,y=false,z=false,A=false,B=false,C,D=0,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=["log","info","warn","error"],Y=8,Z,$,_,ba=null,bb=null,bc,bd,be,bf,bg,bh,bi,bj,bk,bl=false,bm=false,bn,bo,bp,bq=0,br=null,bs,bt=null,bu,bv,bw,bx,by,bz,bA,bB,bC=Array.prototype.slice,bD=false,bE,bF,bG,bH,bI,bJ=n.match(/(ipad|iphone|ipod)/i),bK=n.match(/firefox/i),bL=n.match(/droid/i),bM=n.match(/msie/i),bN=n.match(/webkit/i),bO=n.match(/safari/i)&&!n.match(/chrome/i),bP=n.match(/opera/i),bQ=n.match(/(mobile|pre\/|xoom)/i)||bJ,bR=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&bO&&!n.match(/silk/i)&&n.match(/OS X 10_6_([3-7])/i),bS=typeof console!=="undefined"&&typeof console.log!=="undefined",bT=typeof q.hasFocus!=="undefined"?q.hasFocus():null,bU=bO&&typeof q.hasFocus==="undefined",bV=!bU,bW=/(mp3|mp4|mpa)/i,bX="about:blank",bY=q.location?q.location.protocol.match(/http/i):null,bZ=!bY?"http:/"+"/":"",b$=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|mp4v|3gp|3g2)\s*(?:$|;)/i,b_=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"],ca=new RegExp("\\.("+b_.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!bY;this._global_a=null;bf={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};if(bQ){h.useHTML5Audio=true;h.preferFlash=false;if(bJ){h.ignoreFlash=true;bD=true}}this.ok=function(){return bt?z&&!A:h.useHTML5Audio&&h.hasHTML5};this.supported=this.ok;this.getMovie=function(a){return m(a)||q[a]||o[a]};this.createSound=function(a){function k(){d=bh(d);h.sounds[f.id]=new g(f);h.soundIDs.push(f.id);return h.sounds[f.id]}var b,c,d=null,e=null,f=null;b=j+".createSound(): ";c=b+bc(!z?"notReady":"notOK");if(!z||!h.ok()){bj(c);return false}if(arguments.length===2){a={id:arguments[0],url:arguments[1]}}d=F(a);d.url=bs(d.url);f=d;if(f.id.toString().charAt(0).match(/^[0-9]$/)){h._wD(b+bc("badID",f.id),2)}h._wD(b+f.id+" ("+f.url+")",1);if(bk(f.id,true)){h._wD(b+f.id+" exists",1);return h.sounds[f.id]}if(bv(f)){e=k();h._wD("Loading sound "+f.id+" via HTML5");e._setup_html5(f)}else{if(t>8){if(f.isMovieStar===null){f.isMovieStar=f.serverURL||(f.type?f.type.match(b$):false)||f.url.match(ca)}if(f.isMovieStar){h._wD(b+"using MovieStar handling")}if(f.isMovieStar){if(f.usePeakData){C("noPeak");f.usePeakData=false}if(f.loops>1){C("noNSLoop")}}}f=bi(f,b);e=k();if(t===8){i._createSound(f.id,f.loops||1,f.usePolicyFile)}else{i._createSound(f.id,f.url,f.usePeakData,f.useWaveformData,f.useEQData,f.isMovieStar,f.isMovieStar?f.bufferTime:false,f.loops||1,f.serverURL,f.duration||null,f.autoPlay,true,f.autoLoad,f.usePolicyFile);if(!f.serverURL){e.connected=true;if(f.onconnect){f.onconnect.apply(e)}}}if(!f.serverURL&&(f.autoLoad||f.autoPlay)){e.load(f)}}if(!f.serverURL&&f.autoPlay){e.play()}return e};this.destroySound=function(a,b){if(!bk(a)){return false}var c=h.sounds[a],d;c._iO={};c.stop();c.unload();for(d=0;d<h.soundIDs.length;d++){if(h.soundIDs[d]===a){h.soundIDs.splice(d,1);break}}if(!b){c.destruct(true)}c=null;delete h.sounds[a];return true};this.load=function(a,b){if(!bk(a)){return false}return h.sounds[a].load(b)};this.unload=function(a){if(!bk(a)){return false}return h.sounds[a].unload()};this.onPosition=function(a,b,c,d){if(!bk(a)){return false}return h.sounds[a].onposition(b,c,d)};this.onposition=this.onPosition;this.clearOnPosition=function(a,b,c){if(!bk(a)){return false}return h.sounds[a].clearOnPosition(b,c)};this.play=function(a,b){if(!z||!h.ok()){bj(j+".play(): "+bc(!z?"notReady":"notOK"));return false}if(!bk(a)){if(!(b instanceof Object)){b={url:b}}if(b&&b.url){h._wD(j+'.play(): attempting to create "'+a+'"',1);b.id=a;return h.createSound(b).play()}else{return false}}return h.sounds[a].play(b)};this.start=this.play;this.setPosition=function(a,b){if(!bk(a)){return false}return h.sounds[a].setPosition(b)};this.stop=function(a){if(!bk(a)){return false}h._wD(j+".stop("+a+")",1);return h.sounds[a].stop()};this.stopAll=function(){var a;h._wD(j+".stopAll()",1);for(a in h.sounds){if(h.sounds.hasOwnProperty(a)){h.sounds[a].stop()}}};this.pause=function(a){if(!bk(a)){return false}return h.sounds[a].pause()};this.pauseAll=function(){var a;for(a=h.soundIDs.length-1;a>=0;a--){h.sounds[h.soundIDs[a]].pause()}};this.resume=function(a){if(!bk(a)){return false}return h.sounds[a].resume()};this.resumeAll=function(){var a;for(a=h.soundIDs.length-1;a>=0;a--){h.sounds[h.soundIDs[a]].resume()}};this.togglePause=function(a){if(!bk(a)){return false}return h.sounds[a].togglePause()};this.setPan=function(a,b){if(!bk(a)){return false}return h.sounds[a].setPan(b)};this.setVolume=function(a,b){if(!bk(a)){return false}return h.sounds[a].setVolume(b)};this.mute=function(a){var b=0;if(typeof a!=="string"){a=null}if(!a){h._wD(j+".mute(): Muting all sounds");for(b=h.soundIDs.length-1;b>=0;b--){h.sounds[h.soundIDs[b]].mute()}h.muted=true}else{if(!bk(a)){return false}h._wD(j+'.mute(): Muting "'+a+'"');return h.sounds[a].mute()}return true};this.muteAll=function(){h.mute()};this.unmute=function(a){var b;if(typeof a!=="string"){a=null}if(!a){h._wD(j+".unmute(): Unmuting all sounds");for(b=h.soundIDs.length-1;b>=0;b--){h.sounds[h.soundIDs[b]].unmute()}h.muted=false}else{if(!bk(a)){return false}h._wD(j+'.unmute(): Unmuting "'+a+'"');return h.sounds[a].unmute()}return true};this.unmuteAll=function(){h.unmute()};this.toggleMute=function(a){if(!bk(a)){return false}return h.sounds[a].toggleMute()};this.getMemoryUse=function(){var a=0;if(i&&t!==8){a=parseInt(i._getMemoryUse(),10)}return a};this.disable=function(a){var b;if(typeof a==="undefined"){a=false}if(A){return false}A=true;C("shutdown",1);for(b=h.soundIDs.length-1;b>=0;b--){Z(h.sounds[h.soundIDs[b]])}E(a);bB.remove(o,"load",I);return true};this.canPlayMIME=function(a){var b;if(h.hasHTML5){b=bw({type:a})}if(!bt||b){return b}else{return a&&h.ok()?!!((t>8?a.match(b$):null)||a.match(h.mimePattern)):null}};this.canPlayURL=function(a){var b;if(h.hasHTML5){b=bw({url:a})}if(!bt||b){return b}else{return a&&h.ok()?!!a.match(h.filePattern):null}};this.canPlayLink=function(a){if(typeof a.type!=="undefined"&&a.type){if(h.canPlayMIME(a.type)){return true}}return h.canPlayURL(a.href)};this.getSoundById=function(a,b){if(!a){throw new Error(j+".getSoundById(): sID is null/undefined")}var c=h.sounds[a];if(!c&&!b){h._wD('"'+a+'" is an invalid sound ID.',2)}return c};this.onready=function(a,b){var c="onready";if(a&&a instanceof Function){if(z){h._wD(bc("queue",c))}if(!b){b=o}G(c,a,b);H();return true}else{throw bc("needFunction",c)}};this.ontimeout=function(a,b){var c="ontimeout";if(a&&a instanceof Function){if(z){h._wD(bc("queue",c))}if(!b){b=o}G(c,a,b);H({type:c});return true}else{throw bc("needFunction",c)}};this._writeDebug=function(a,b,c){var d="soundmanager-debug",e,f,g;if(!h.debugMode){return false}if(typeof c!=="undefined"&&c){a=a+" | "+(new Date).getTime()}if(bS&&h.useConsole){g=X[b];if(typeof console[g]!=="undefined"){console[g](a)}else{console.log(a)}if(h.consoleOnly){return true}}try{e=m(d);if(!e){return false}f=q.createElement("div");if(++D%2===0){f.className="sm2-alt"}if(typeof b==="undefined"){b=0}else{b=parseInt(b,10)}f.appendChild(q.createTextNode(a));if(b){if(b>=2){f.style.fontWeight="bold"}if(b===3){f.style.color="#ff3333"}}e.insertBefore(f,e.firstChild)}catch(i){}e=null;return true};this._wD=this._writeDebug;this._debug=function(){var a,b;C("currentObj",1);for(a=0,b=h.soundIDs.length;a<b;a++){h.sounds[h.soundIDs[a]]._debug()}};this.reboot=function(){h._wD(j+".reboot()");if(h.soundIDs.length){h._wD("Destroying "+h.soundIDs.length+" SMSound objects...")}var a,b;for(a=h.soundIDs.length-1;a>=0;a--){h.sounds[h.soundIDs[a]].destruct()}try{if(bM){bb=i.innerHTML}ba=i.parentNode.removeChild(i);h._wD("Flash movie removed.")}catch(c){C("badRemove",2)}bb=ba=bt=null;h.enabled=R=z=bl=bm=x=y=A=h.swfLoaded=false;h.soundIDs=[];h.sounds={};i=null;for(a in u){if(u.hasOwnProperty(a)){for(b=u[a].length-1;b>=0;b--){u[a][b].fired=false}}}h._wD(j+": Rebooting...");o.setTimeout(h.beginDelayedInit,20)};this.getMoviePercent=function(){return i&&typeof i.PercentLoaded!=="undefined"?i.PercentLoaded():null};this.beginDelayedInit=function(){B=true;P();setTimeout(function(){if(bm){return false}T();O();bm=true;return true},20);J()};this.destruct=function(){h._wD(j+".destruct()");h.disable(true)};g=function(a){var b=this,c,d,e,f,g,j,k=false,m=[],n=0,o,p,q=null,r;r={duration:null,time:null};this.sID=a.id;this.url=a.url;this.options=F(a);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=false;this._a=null;this.id3={};this._debug=function(){if(h.debugMode){var a=null,c=[],d,e,f=64;for(a in b.options){if(b.options[a]!==null){if(b.options[a]instanceof Function){d=b.options[a].toString();d=d.replace(/\s\s+/g," ");e=d.indexOf("{");c.push(" "+a+": {"+d.substr(e+1,Math.min(Math.max(d.indexOf("\n")-1,f),f)).replace(/\n/g,"")+"... }")}else{c.push(" "+a+": "+b.options[a])}}}h._wD("SMSound() merged options: {\n"+c.join(", \n")+"\n}")}};this._debug();this.load=function(a){var c=null,d;if(typeof a!=="undefined"){b._iO=F(a,b.options);b.instanceOptions=b._iO}else{a=b.options;b._iO=a;b.instanceOptions=b._iO;if(q&&q!==b.url){C("manURL");b._iO.url=b.url;b.url=null}}if(!b._iO.url){b._iO.url=b.url}b._iO.url=bs(b._iO.url);h._wD("SMSound.load(): "+b._iO.url,1);if(b._iO.url===b.url&&b.readyState!==0&&b.readyState!==2){C("onURL",1);if(b.readyState===3&&b._iO.onload){b._iO.onload.apply(b,[!!b.duration])}return b}d=b._iO;q=b.url;b.loaded=false;b.readyState=1;b.playState=0;if(bv(d)){c=b._setup_html5(d);if(!c._called_load){h._wD(l+"load: "+b.sID);b._html5_canplay=false;b._a.autobuffer="auto";b._a.preload="auto";c.load();c._called_load=true;if(d.autoPlay){b.play()}}else{h._wD(l+"ignoring request to load again: "+b.sID)}}else{try{b.isHTML5=false;b._iO=bi(bh(d));d=b._iO;if(t===8){i._load(b.sID,d.url,d.stream,d.autoPlay,d.whileloading?1:0,d.loops||1,d.usePolicyFile)}else{i._load(b.sID,d.url,!!d.stream,!!d.autoPlay,d.loops||1,!!d.autoLoad,d.usePolicyFile)}}catch(e){C("smError",2);w("onload",false);U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:true})}}return b};this.unload=function(){if(b.readyState!==0){h._wD('SMSound.unload(): "'+b.sID+'"');if(!b.isHTML5){if(t===8){i._unload(b.sID,bX)}else{i._unload(b.sID)}}else{f();if(b._a){b._a.pause();by(b._a)}}c()}return b};this.destruct=function(a){h._wD('SMSound.destruct(): "'+b.sID+'"');if(!b.isHTML5){b._iO.onfailure=null;i._destroySound(b.sID)}else{f();if(b._a){b._a.pause();by(b._a);if(!bD){e()}b._a._t=null;b._a=null}}if(!a){h.destroySound(b.sID,true)}};this.play=function(a,c){var d,e,f,l;d="SMSound.play(): ";c=c===undefined?true:c;if(!a){a={}}b._iO=F(a,b._iO);b._iO=F(b._iO,b.options);b._iO.url=bs(b._iO.url);b.instanceOptions=b._iO;if(b._iO.serverURL&&!b.connected){if(!b.getAutoPlay()){h._wD(d+" Netstream not connected yet - setting autoPlay");b.setAutoPlay(true)}return b}if(bv(b._iO)){b._setup_html5(b._iO);g()}if(b.playState===1&&!b.paused){e=b._iO.multiShot;if(!e){h._wD(d+'"'+b.sID+'" already playing (one-shot)',1);return b}else{h._wD(d+'"'+b.sID+'" already playing (multi-shot)',1)}}if(!b.loaded){if(b.readyState===0){h._wD(d+'Attempting to load "'+b.sID+'"',1);if(!b.isHTML5){b._iO.autoPlay=true}b.load(b._iO)}else if(b.readyState===2){h._wD(d+'Could not load "'+b.sID+'" - exiting',2);return b}else{h._wD(d+'"'+b.sID+'" is loading - attempting to play..',1)}}else{h._wD(d+'"'+b.sID+'"')}if(!b.isHTML5&&t===9&&b.position>0&&b.position===b.duration){h._wD(d+'"'+b.sID+'": Sound at end, resetting to position:0');a.position=0}if(b.paused&&b.position&&b.position>0){h._wD(d+'"'+b.sID+'" is resuming from paused state',1);b.resume()}else{b._iO=F(a,b._iO);if(b._iO.from!==null&&b._iO.to!==null&&b.instanceCount===0&&b.playState===0&&!b._iO.serverURL){l=function(){b._iO=F(a,b._iO);b.play(b._iO)};if(b.isHTML5&&!b._html5_canplay){h._wD(d+'Beginning load of "'+b.sID+'" for from/to case');b.load({_oncanplay:l});return false}else if(!b.isHTML5&&!b.loaded&&(!b.readyState||b.readyState!==2)){h._wD(d+'Preloading "'+b.sID+'" for from/to case');b.load({onload:l});return false}b._iO=p()}h._wD(d+'"'+b.sID+'" is starting to play');if(!b.instanceCount||b._iO.multiShotEvents||!b.isHTML5&&t>8&&!b.getAutoPlay()){b.instanceCount++}if(b.playState===0&&b._iO.onposition){j(b)}b.playState=1;b.paused=false;b.position=typeof b._iO.position!=="undefined"&&!isNaN(b._iO.position)?b._iO.position:0;if(!b.isHTML5){b._iO=bi(bh(b._iO))}if(b._iO.onplay&&c){b._iO.onplay.apply(b);k=true}b.setVolume(b._iO.volume,true);b.setPan(b._iO.pan,true);if(!b.isHTML5){i._start(b.sID,b._iO.loops||1,t===9?b._iO.position:b._iO.position/1e3)}else{g();f=b._setup_html5();b.setPosition(b._iO.position);f.play()}}return b};this.start=this.play;this.stop=function(a){var c=b._iO,d;if(b.playState===1){b._onbufferchange(0);b._resetOnPosition(0);b.paused=false;if(!b.isHTML5){b.playState=0}o();if(c.to){b.clearOnPosition(c.to)}if(!b.isHTML5){i._stop(b.sID,a);if(c.serverURL){b.unload()}}else{if(b._a){d=b.position;b.setPosition(0);b.position=d;b._a.pause();b.playState=0;b._onTimer();f()}}b.instanceCount=0;b._iO={};if(c.onstop){c.onstop.apply(b)}}return b};this.setAutoPlay=function(a){h._wD("sound "+b.sID+" turned autoplay "+(a?"on":"off"));b._iO.autoPlay=a;if(!b.isHTML5){i._setAutoPlay(b.sID,a);if(a){if(!b.instanceCount&&b.readyState===1){b.instanceCount++;h._wD("sound "+b.sID+" incremented instance count to "+b.instanceCount)}}}};this.getAutoPlay=function(){return b._iO.autoPlay};this.setPosition=function(a){if(a===undefined){a=0}var c,d,e,f=b.isHTML5?Math.max(a,0):Math.min(b.duration||b._iO.duration,Math.max(a,0));c=b.position;b.position=f;e=b.position/1e3;b._resetOnPosition(b.position);b._iO.position=f;if(!b.isHTML5){d=t===9?b.position:e;if(b.readyState&&b.readyState!==2){i._setPosition(b.sID,d,b.paused||!b.playState)}}else if(b._a){if(b._html5_canplay){if(b._a.currentTime!==e){h._wD("setPosition("+e+"): setting position");try{b._a.currentTime=e;if(b.playState===0||b.paused){b._a.pause()}}catch(g){h._wD("setPosition("+e+"): setting position failed: "+g.message,2)}}}else{h._wD("setPosition("+e+"): delaying, sound not ready")}}if(b.isHTML5){if(b.paused){b._onTimer(true)}}return b};this.pause=function(a){if(b.paused||b.playState===0&&b.readyState!==1){return b}h._wD("SMSound.pause()");b.paused=true;if(!b.isHTML5){if(a||a===undefined){i._pause(b.sID)}}else{b._setup_html5().pause();f()}if(b._iO.onpause){b._iO.onpause.apply(b)}return b};this.resume=function(){var a=b._iO;if(!b.paused){return b}h._wD("SMSound.resume()");b.paused=false;b.playState=1;if(!b.isHTML5){if(a.isMovieStar&&!a.serverURL){b.setPosition(b.position)}i._pause(b.sID)}else{b._setup_html5().play();g()}if(!k&&a.onplay){a.onplay.apply(b);k=true}else if(a.onresume){a.onresume.apply(b)}return b};this.togglePause=function(){h._wD("SMSound.togglePause()");if(b.playState===0){b.play({position:t===9&&!b.isHTML5?b.position:b.position/1e3});return b}if(b.paused){b.resume()}else{b.pause()}return b};this.setPan=function(a,c){if(typeof a==="undefined"){a=0}if(typeof c==="undefined"){c=false}if(!b.isHTML5){i._setPan(b.sID,a)}b._iO.pan=a;if(!c){b.pan=a;b.options.pan=a}return b};this.setVolume=function(a,c){if(typeof a==="undefined"){a=100}if(typeof c==="undefined"){c=false}if(!b.isHTML5){i._setVolume(b.sID,h.muted&&!b.muted||b.muted?0:a)}else if(b._a){b._a.volume=Math.max(0,Math.min(1,a/100))}b._iO.volume=a;if(!c){b.volume=a;b.options.volume=a}return b};this.mute=function(){b.muted=true;if(!b.isHTML5){i._setVolume(b.sID,0)}else if(b._a){b._a.muted=true}return b};this.unmute=function(){b.muted=false;var a=typeof b._iO.volume!=="undefined";if(!b.isHTML5){i._setVolume(b.sID,a?b._iO.volume:b.options.volume)}else if(b._a){b._a.muted=false}return b};this.toggleMute=function(){return b.muted?b.unmute():b.mute()};this.onPosition=function(a,c,d){m.push({position:parseInt(a,10),method:c,scope:typeof d!=="undefined"?d:b,fired:false});return b};this.onposition=this.onPosition;this.clearOnPosition=function(a,b){var c;a=parseInt(a,10);if(isNaN(a)){return false}for(c=0;c<m.length;c++){if(a===m[c].position){if(!b||b===m[c].method){if(m[c].fired){n--}m.splice(c,1)}}}};this._processOnPosition=function(){var a,c,d=m.length;if(!d||!b.playState||n>=d){return false}for(a=d-1;a>=0;a--){c=m[a];if(!c.fired&&b.position>=c.position){c.fired=true;n++;c.method.apply(c.scope,[c.position])}}return true};this._resetOnPosition=function(a){var b,c,d=m.length;if(!d){return false}for(b=d-1;b>=0;b--){c=m[b];if(c.fired&&a<=c.position){c.fired=false;n--}}return true};p=function(){var a=b._iO,c=a.from,d=a.to,e,f;f=function(){h._wD(b.sID+': "to" time of '+d+" reached.");b.clearOnPosition(d,f);b.stop()};e=function(){h._wD(b.sID+': playing "from" '+c);if(d!==null&&!isNaN(d)){b.onPosition(d,f)}};if(c!==null&&!isNaN(c)){a.position=c;a.multiShot=false;e()}return a};j=function(){var a,c=b._iO.onposition;if(c){for(a in c){if(c.hasOwnProperty(a)){b.onPosition(parseInt(a,10),c[a])}}}};o=function(){var a,c=b._iO.onposition;if(c){for(a in c){if(c.hasOwnProperty(a)){b.clearOnPosition(parseInt(a,10))}}}};g=function(){if(b.isHTML5){bn(b)}};f=function(){if(b.isHTML5){bo(b)}};c=function(){m=[];n=0;k=false;b._hasTimer=null;b._a=null;b._html5_canplay=false;b.bytesLoaded=null;b.bytesTotal=null;b.duration=b._iO&&b._iO.duration?b._iO.duration:null;b.durationEstimate=null;b.eqData=[];b.eqData.left=[];b.eqData.right=[];b.failures=0;b.isBuffering=false;b.instanceOptions={};b.instanceCount=0;b.loaded=false;b.metadata={};b.readyState=0;b.muted=false;b.paused=false;b.peakData={left:0,right:0};b.waveformData={left:[],right:[]};b.playState=0;b.position=null};c();this._onTimer=function(a){var c,d=false,e,f={};if(b._hasTimer||a){if(b._a&&(a||(b.playState>0||b.readyState===1)&&!b.paused)){c=b._get_html5_duration();if(c!==r.duration){r.duration=c;b.duration=c;d=true}b.durationEstimate=b.duration;e=b._a.currentTime*1e3||0;if(e!==r.time){r.time=e;d=true}if(d||a){b._whileplaying(e,f,f,f,f)}return d}else{return false}}};this._get_html5_duration=function(){var a=b._iO,c=b._a?b._a.duration*1e3:a?a.duration:undefined,d=c&&!isNaN(c)&&c!==Infinity?c:a?a.duration:null;return d};this._setup_html5=function(a){var e=F(b._iO,a),f=decodeURI,g=bD?h._global_a:b._a,i=f(e.url),j=g&&g._t?g._t.instanceOptions:null;if(g){if(g._t){if(!bD&&i===f(q)){return g}else if(bD&&j.url===e.url&&(!q||q===j.url)){return g}}h._wD("setting new URL on existing object: "+i+(q?", old URL: "+q:""));if(bD&&g._t&&g._t.playState&&e.url!==j.url){g._t.stop()}c();g.src=e.url;b.url=e.url;q=e.url;g._called_load=false}else{h._wD("creating HTML5 Audio() element with URL: "+i);g=new Audio(e.url);g._called_load=false;if(bL){g._called_load=true}if(bD){h._global_a=g}}b.isHTML5=true;b._a=g;g._t=b;d();g.loop=e.loops>1?"loop":"";if(e.autoLoad||e.autoPlay){b.load()}else{g.autobuffer=false;g.preload="none"}g.loop=e.loops>1?"loop":"";return g};d=function(){function c(a,c,d){return b._a?b._a.addEventListener(a,c,d||false):null}if(b._a._added_events){return false}var a;h._wD(l+"adding event listeners: "+b.sID);b._a._added_events=true;for(a in bH){if(bH.hasOwnProperty(a)){c(a,bH[a])}}return true};e=function(){function c(a,c,d){return b._a?b._a.removeEventListener(a,c,d||false):null}var a;h._wD(l+"removing event listeners: "+b.sID);b._a._added_events=false;for(a in bH){if(bH.hasOwnProperty(a)){c(a,bH[a])}}};this._onload=function(a){var c,d=!!a;c="SMSound._onload(): ";h._wD(c+'"'+b.sID+'"'+(d?" loaded.":" failed to load? - "+b.url),d?1:2);if(!d&&!b.isHTML5){if(h.sandbox.noRemote===true){h._wD(c+bc("noNet"),1)}if(h.sandbox.noLocal===true){h._wD(c+bc("noLocal"),1)}}b.loaded=d;b.readyState=d?3:2;b._onbufferchange(0);if(b._iO.onload){b._iO.onload.apply(b,[d])}return true};this._onbufferchange=function(a){if(b.playState===0){return false}if(a&&b.isBuffering||!a&&!b.isBuffering){return false}b.isBuffering=a===1;if(b._iO.onbufferchange){h._wD("SMSound._onbufferchange(): "+a);b._iO.onbufferchange.apply(b)}return true};this._onsuspend=function(){if(b._iO.onsuspend){h._wD("SMSound._onsuspend()");b._iO.onsuspend.apply(b)}return true};this._onfailure=function(a,c,d){b.failures++;h._wD('SMSound._onfailure(): "'+b.sID+'" count '+b.failures);if(b._iO.onfailure&&b.failures===1){b._iO.onfailure(b,a,c,d)}else{h._wD("SMSound._onfailure(): ignoring")}};this._onfinish=function(){var a=b._iO.onfinish;b._onbufferchange(0);b._resetOnPosition(0);if(b.instanceCount){b.instanceCount--;if(!b.instanceCount){o();b.playState=0;b.paused=false;b.instanceCount=0;b.instanceOptions={};b._iO={};f()}if(!b.instanceCount||b._iO.multiShotEvents){if(a){h._wD('SMSound._onfinish(): "'+b.sID+'"');a.apply(b)}}}};this._whileloading=function(a,c,d,e){var f=b._iO;b.bytesLoaded=a;b.bytesTotal=c;b.duration=Math.floor(d);b.bufferLength=e;if(!f.isMovieStar){if(f.duration){b.durationEstimate=b.duration>f.duration?b.duration:f.duration}else{b.durationEstimate=parseInt(b.bytesTotal/b.bytesLoaded*b.duration,10)}if(b.durationEstimate===undefined){b.durationEstimate=b.duration}if(b.readyState!==3&&f.whileloading){f.whileloading.apply(b)}}else{b.durationEstimate=b.duration;if(b.readyState!==3&&f.whileloading){f.whileloading.apply(b)}}};this._whileplaying=function(a,c,d,e,f){var g=b._iO,h;if(isNaN(a)||a===null){return false}b.position=a;b._processOnPosition();if(!b.isHTML5&&t>8){if(g.usePeakData&&typeof c!=="undefined"&&c){b.peakData={left:c.leftPeak,right:c.rightPeak}}if(g.useWaveformData&&typeof d!=="undefined"&&d){b.waveformData={left:d.split(","),right:e.split(",")}}if(g.useEQData){if(typeof f!=="undefined"&&f&&f.leftEQ){h=f.leftEQ.split(",");b.eqData=h;b.eqData.left=h;if(typeof f.rightEQ!=="undefined"&&f.rightEQ){b.eqData.right=f.rightEQ.split(",")}}}}if(b.playState===1){if(!b.isHTML5&&t===8&&!b.position&&b.isBuffering){b._onbufferchange(0)}if(g.whileplaying){g.whileplaying.apply(b)}}return true};this._onmetadata=function(a,c){h._wD('SMSound._onmetadata(): "'+this.sID+'" metadata received.');var d={},e,f;for(e=0,f=a.length;e<f;e++){d[a[e]]=c[e]}b.metadata=d;if(b._iO.onmetadata){b._iO.onmetadata.apply(b)}};this._onid3=function(a,c){h._wD('SMSound._onid3(): "'+this.sID+'" ID3 data received.');var d=[],e,f;for(e=0,f=a.length;e<f;e++){d[a[e]]=c[e]}b.id3=F(b.id3,d);if(b._iO.onid3){b._iO.onid3.apply(b)}};this._onconnect=function(a){a=a===1;h._wD('SMSound._onconnect(): "'+b.sID+'"'+(a?" connected.":" failed to connect? - "+b.url),a?1:2);b.connected=a;if(a){b.failures=0;if(bk(b.sID)){if(b.getAutoPlay()){b.play(undefined,b.getAutoPlay())}else if(b._iO.autoLoad){b.load()}}if(b._iO.onconnect){b._iO.onconnect.apply(b,[a])}}};this._ondataerror=function(a){if(b.playState>0){h._wD("SMSound._ondataerror(): "+a);if(b._iO.ondataerror){b._iO.ondataerror.apply(b)}}}};S=function(){return q.body||q._docElement||q.getElementsByTagName("div")[0]};m=function(a){return q.getElementById(a)};F=function(a,b){var c={},d,e,f;for(d in a){if(a.hasOwnProperty(d)){c[d]=a[d]}}e=typeof b==="undefined"?h.defaultOptions:b;for(f in e){if(e.hasOwnProperty(f)&&typeof c[f]==="undefined"){c[f]=e[f]}}return c};bB=function(){function f(){d(c(arguments),"remove")}function e(){d(c(arguments),"add")}function d(c,d){var e=c.shift(),f=[b[d]];if(a){e[f](c[0],c[1])}else{e[f].apply(e,c)}}function c(b){var c=bC.call(b),d=c.length;if(a){c[1]="on"+c[1];if(d>3){c.pop()}}else if(d===3){c.push(false)}return c}var a=o.attachEvent,b={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:e,remove:f}}();bH={abort:cb(function(){h._wD(l+"abort: "+this._t.sID)}),canplay:cb(function(){var a=this._t,b;if(a._html5_canplay){return true}a._html5_canplay=true;h._wD(l+"canplay: "+a.sID+", "+a.url);a._onbufferchange(0);b=!isNaN(a.position)?a.position/1e3:null;if(a.position&&this.currentTime!==b){h._wD(l+"canplay: setting position to "+b);try{this.currentTime=b}catch(c){h._wD(l+"setting position failed: "+c.message,2)}}if(a._iO._oncanplay){a._iO._oncanplay()}}),load:cb(function(){var a=this._t;if(!a.loaded){a._onbufferchange(0);a._whileloading(a.bytesTotal,a.bytesTotal,a._get_html5_duration());a._onload(true)}}),ended:cb(function(){var a=this._t;h._wD(l+"ended: "+a.sID);a._onfinish()}),error:cb(function(){h._wD(l+"error: "+this.error.code);this._t._onload(false)}),loadeddata:cb(function(){var a=this._t,b=a.bytesTotal||1;h._wD(l+"loadeddata: "+this._t.sID);if(!a._loaded&&!bO){a.duration=a._get_html5_duration();a._whileloading(b,b,a._get_html5_duration());a._onload(true)}}),loadedmetadata:cb(function(){h._wD(l+"loadedmetadata: "+this._t.sID)}),loadstart:cb(function(){h._wD(l+"loadstart: "+this._t.sID);this._t._onbufferchange(1)}),play:cb(function(){h._wD(l+"play: "+this._t.sID+", "+this._t.url);this._t._onbufferchange(0)}),playing:cb(function(){h._wD(l+"playing: "+this._t.sID);this._t._onbufferchange(0)}),progress:cb(function(a){var b=this._t,c,d,e,f=0,g=a.type==="progress",i=a.target.buffered,j=a.loaded||0,k=a.total||1;if(b.loaded){return false}if(i&&i.length){for(c=i.length-1;c>=0;c--){f=i.end(c)-i.start(c)}j=f/a.target.duration;if(g&&i.length>1){e=[];d=i.length;for(c=0;c<d;c++){e.push(a.target.buffered.start(c)+"-"+a.target.buffered.end(c))}h._wD(l+"progress: timeRanges: "+e.join(", "))}if(g&&!isNaN(j)){h._wD(l+"progress: "+b.sID+": "+Math.floor(j*100)+"% loaded")}}if(!isNaN(j)){b._onbufferchange(0);b._whileloading(j,k,b._get_html5_duration());if(j&&k&&j===k){bH.load.call(this,a)}}}),ratechange:cb(function(){h._wD(l+"ratechange: "+this._t.sID)}),suspend:cb(function(a){var b=this._t;h._wD(l+"suspend: "+b.sID);bH.progress.call(this,a);b._onsuspend()}),stalled:cb(function(){h._wD(l+"stalled: "+this._t.sID)}),timeupdate:cb(function(){this._t._onTimer()}),waiting:cb(function(){var a=this._t;h._wD(l+"waiting: "+a.sID);a._onbufferchange(1)})};bv=function(a){return!a.serverURL&&(a.type?bw({type:a.type}):bw({url:a.url})||h.html5Only)};by=function(a){if(a){a.src=bK?"":bX}};bw=function(a){function j(a){return h.preferFlash&&bE&&!h.ignoreFlash&&typeof h.flash[a]!=="undefined"&&h.flash[a]}if(!h.useHTML5Audio||!h.hasHTML5){return false}var b=a.url||null,c=a.type||null,d=h.audioFormats,e,f,g,i;if(c&&typeof h.html5[c]!=="undefined"){return h.html5[c]&&!j(c)}if(!bx){bx=[];for(i in d){if(d.hasOwnProperty(i)){bx.push(i);if(d[i].related){bx=bx.concat(d[i].related)}}}bx=new RegExp("\\.("+bx.join("|")+")(\\?.*)?$","i")}g=b?b.toLowerCase().match(bx):null;if(!g||!g.length){if(!c){return false}else{f=c.indexOf(";");g=(f!==-1?c.substr(0,f):c).substr(6)}}else{g=g[1]}if(g&&typeof h.html5[g]!=="undefined"){return h.html5[g]&&!j(g)}else{c="audio/"+g;e=h.html5.canPlayType({type:c});h.html5[g]=e;return e&&h.html5[c]&&!j(c)}};bA=function(){function f(b){var c,d,e,f=false;if(!a||typeof a.canPlayType!=="function"){return false}if(b instanceof Array){for(d=0,e=b.length;d<e&&!f;d++){if(h.html5[b[d]]||a.canPlayType(b[d]).match(h.html5Test)){f=true;h.html5[b[d]]=true;h.flash[b[d]]=!!(h.preferFlash&&bE&&b[d].match(bW))}}return f}else{c=a&&typeof a.canPlayType==="function"?a.canPlayType(b):false;return!!(c&&c.match(h.html5Test))}}if(!h.useHTML5Audio||typeof Audio==="undefined"){return false}var a=typeof Audio!=="undefined"?bP?new Audio(null):new Audio:null,b,c={},d,e;d=h.audioFormats;for(b in d){if(d.hasOwnProperty(b)){c[b]=f(d[b].type);c["audio/"+b]=c[b];if(h.preferFlash&&!h.ignoreFlash&&b.match(bW)){h.flash[b]=true}else{h.flash[b]=false}if(d[b]&&d[b].related){for(e=d[b].related.length-1;e>=0;e--){c["audio/"+d[b].related[e]]=c[b];h.html5[d[b].related[e]]=c[b];h.flash[d[b].related[e]]=c[b]}}}}c.canPlayType=a?f:null;h.html5=F(h.html5,c);return true};N={notReady:"Not loaded yet - wait for soundManager.onload()/onready()",notOK:"Audio support is not available.",domError:k+"createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:k+"createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:j+": Verify that %s is a valid path.",tryDebug:"Try "+j+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:j+": Non-HTTP page ("+q.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:j+": Special case: Waiting for focus-related event..",waitImpatient:j+": Getting impatient, still waiting for Flash%s...",waitForever:j+": Waiting indefinitely for Flash (will recover if unblocked)...",needFunction:j+": Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"--- "+j+"._debug(): Current sound objects ---",waitEI:k+"initMovie(): Waiting for ExternalInterface call from Flash..",waitOnload:j+": Waiting for window.onload()",docLoaded:j+": Document already loaded",onload:k+"initComplete(): calling soundManager.onload()",onloadOK:j+".onload() complete",init:k+"init()",didInit:k+"init(): Already called?",flashJS:j+": Attempting to call Flash from JS..",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",noPeak:"Warning: peakData features unsupported for movieStar formats",shutdown:j+".disable(): Shutting down",queue:j+": Queueing %s handler",smFail:j+": Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+bf.swfTimedout+" CSS..",fbLoaded:"Flash loaded",fbHandler:k+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:j+".load(): current URL already assigned.",badFV:j+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access"};bc=function(){var a=bC.call(arguments),b=a.shift(),c=N&&N[b]?N[b]:"",d,e;if(c&&a&&a.length){for(d=0,e=a.length;d<e;d++){c=c.replace("%s",a[d])}}return c};bh=function(a){if(t===8&&a.loops>1&&a.stream){C("as2loop");a.stream=false}return a};bi=function(a,b){if(a&&!a.usePolicyFile&&(a.onid3||a.usePeakData||a.useWaveformData||a.useEQData)){h._wD((b||"")+bc("policy"));a.usePolicyFile=true}return a};bj=function(a){if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){console.warn(a)}else{h._wD(a)}};r=function(){return false};Z=function(a){var b;for(b in a){if(a.hasOwnProperty(b)&&typeof a[b]==="function"){a[b]=r}}b=null};$=function(a){if(typeof a==="undefined"){a=false}if(A||a){C("smFail",2);h.disable(a)}};_=function(a){var b=null,c;if(a){if(a.match(/\.swf(\?.*)?$/i)){b=a.substr(a.toLowerCase().lastIndexOf(".swf?")+4);if(b){return a}}else if(a.lastIndexOf("/")!==a.length-1){a+="/"}}c=(a&&a.lastIndexOf("/")!==-1?a.substr(0,a.lastIndexOf("/")+1):"./")+h.movieURL;if(h.noSWFCache){c+="?ts="+(new Date).getTime()}return c};L=function(){t=parseInt(h.flashVersion,10);if(t!==8&&t!==9){h._wD(bc("badFV",t,Y));h.flashVersion=t=Y}var a=h.debugMode||h.debugFlash?"_debug.swf":".swf";if(h.useHTML5Audio&&!h.html5Only&&h.audioFormats.mp4.required&&t<9){h._wD(bc("needfl9"));h.flashVersion=t=9}h.version=h.versionNumber+(h.html5Only?" (HTML5-only mode)":t===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(t>8){h.defaultOptions=F(h.defaultOptions,h.flash9Options);h.features.buffering=true;h.defaultOptions=F(h.defaultOptions,h.movieStarOptions);h.filePatterns.flash9=new RegExp("\\.(mp3|"+b_.join("|")+")(\\?.*)?$","i");h.features.movieStar=true}else{h.features.movieStar=false}h.filePattern=h.filePatterns[t!==8?"flash9":"flash8"];h.movieURL=(t===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",a);h.features.peakData=h.features.waveformData=h.features.eqData=t>8};V=function(a,b){if(!i){return false}i._setPolling(a,b)};W=function(){if(h.debugURLParam.test(p)){h.debugMode=true}if(m(h.debugID)){return false}var a,b,c,d,e;if(h.debugMode&&!m(h.debugID)&&(!bS||!h.useConsole||!h.consoleOnly)){a=q.createElement("div");a.id=h.debugID+"-toggle";d={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};a.appendChild(q.createTextNode("-"));a.onclick=bg;a.title="Toggle SM2 debug console";if(n.match(/msie 6/i)){a.style.position="absolute";a.style.cursor="hand"}for(e in d){if(d.hasOwnProperty(e)){a.style[e]=d[e]}}b=q.createElement("div");b.id=h.debugID;b.style.display=h.debugMode?"block":"none";if(h.debugMode&&!m(a.id)){try{c=h.domContainer;c.appendChild(a)}catch(f){throw new Error(bc("domError")+" \n"+f.toString())}c.appendChild(b)}}c=null};bk=this.getSoundById;C=function(a,b){if(!a){return""}else{return h._wD(bc(a),b)}};if(p.indexOf("sm2-debug=alert")+1&&h.debugMode){h._wD=function(b){a.alert(b)}}bg=function(){var a=m(h.debugID),b=m(h.debugID+"-toggle");if(!a){return false}if(v){b.innerHTML="+";a.style.display="none"}else{b.innerHTML="-";a.style.display="block"}v=!v};w=function(a,b,c){if(typeof sm2Debugger!=="undefined"){try{sm2Debugger.handleEvent(a,b,c)}catch(d){}}return true};be=function(){var a=[];if(h.debugMode){a.push(bf.sm2Debug)}if(h.debugFlash){a.push(bf.flashDebug)}if(h.useHighPerformance){a.push(bf.highPerf)}return a.join(" ")};bd=function(){var a=bc("fbHandler"),b=h.getMoviePercent(),c=bf,d={type:"FLASHBLOCK"};if(h.html5Only){return false}if(!h.ok()){if(bt){h.oMC.className=be()+" "+c.swfDefault+" "+(b===null?c.swfTimedout:c.swfError);h._wD(a+": "+bc("fbTimeout")+(b?" ("+bc("fbLoaded")+")":""))}h.didFlashBlock=true;H({type:"ontimeout",ignoreInit:true,error:d});U(d)}else{if(h.didFlashBlock){h._wD(a+": Unblocked")}if(h.oMC){h.oMC.className=[be(),c.swfDefault,c.swfLoaded+(h.didFlashBlock?" "+c.swfUnblocked:"")].join(" ")}}};G=function(a,b,c){if(typeof u[a]==="undefined"){u[a]=[]}u[a].push({method:b,scope:c||null,fired:false})};H=function(a){if(!a){a={type:"onready"}}if(!z&&a&&!a.ignoreInit){return false}if(a.type==="ontimeout"&&h.ok()){return false}var b={success:a&&a.ignoreInit?h.ok():!A},c=a&&a.type?u[a.type]||[]:[],d=[],e,f,g=[b],i=bt&&h.useFlashBlock&&!h.ok();if(a.error){g[0].error=a.error}for(e=0,f=c.length;e<f;e++){if(c[e].fired!==true){d.push(c[e])}}if(d.length){h._wD(j+": Firing "+d.length+" "+a.type+"() item"+(d.length===1?"":"s"));for(e=0,f=d.length;e<f;e++){if(d[e].scope){d[e].method.apply(d[e].scope,g)}else{d[e].method.apply(this,g)}if(!i){d[e].fired=true}}}return true};I=function(){o.setTimeout(function(){if(h.useFlashBlock){bd()}H();if(h.onload instanceof Function){C("onload",1);h.onload.apply(o);C("onloadOK",1)}if(h.waitForWindowLoad){bB.add(o,"load",I)}},1)};bF=function(){if(bE!==undefined){return bE}var a=false,b=navigator,c=b.plugins,d,e,f,g=o.ActiveXObject;if(c&&c.length){e="application/x-shockwave-flash";f=b.mimeTypes;if(f&&f[e]&&f[e].enabledPlugin&&f[e].enabledPlugin.description){a=true}}else if(typeof g!=="undefined"){try{d=new g("ShockwaveFlash.ShockwaveFlash")}catch(h){}a=!!d}bE=a;return a};bu=function(){var a,b,c=bJ&&!!n.match(/os (1|2|3_0|3_1)/i);if(c){h.hasHTML5=false;h.html5Only=true;if(h.oMC){h.oMC.style.display="none"}return false}if(h.useHTML5Audio){if(!h.html5||!h.html5.canPlayType){h._wD("SoundManager: No HTML5 Audio() support detected.");h.hasHTML5=false;return true}else{h.hasHTML5=true}if(bR){h._wD(k+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(!bE?" would use flash fallback for MP3/MP4, but none detected.":"will use flash fallback for MP3/MP4, if available"),1);if(bF()){return true}}}else{return true}for(b in h.audioFormats){if(h.audioFormats.hasOwnProperty(b)){if(h.audioFormats[b].required&&!h.html5.canPlayType(h.audioFormats[b].type)||h.flash[b]||h.flash[h.audioFormats[b].type]){a=true}}}if(h.ignoreFlash){a=false}h.html5Only=h.hasHTML5&&h.useHTML5Audio&&!a;return!h.html5Only};bs=function(a){var b,c,d=0;if(a instanceof Array){for(b=0,c=a.length;b<c;b++){if(a[b]instanceof Object){if(h.canPlayMIME(a[b].type)){d=b;break}}else if(h.canPlayURL(a[b])){d=b;break}}if(a[d].url){a[d]=a[d].url}return a[d]}else{return a}};bn=function(b){if(!b._hasTimer){b._hasTimer=true;if(!bQ&&h.html5PollingInterval){if(br===null&&bq===0){br=a.setInterval(bp,h.html5PollingInterval)}bq++}}};bo=function(a){if(a._hasTimer){a._hasTimer=false;if(!bQ&&h.html5PollingInterval){bq--}}};bp=function(){var b;if(br!==null&&!bq){a.clearInterval(br);br=null;return false}for(b=h.soundIDs.length-1;b>=0;b--){if(h.sounds[h.soundIDs[b]].isHTML5&&h.sounds[h.soundIDs[b]]._hasTimer){h.sounds[h.soundIDs[b]]._onTimer()}}};U=function(a){a=typeof a!=="undefined"?a:{};if(h.onerror instanceof Function){h.onerror.apply(o,[{type:typeof a.type!=="undefined"?a.type:null}])}if(typeof a.fatal!=="undefined"&&a.fatal){h.disable()}};bG=function(){if(!bR||!bF()){return false}var a=h.audioFormats,b,c;for(c in a){if(a.hasOwnProperty(c)){if(c==="mp3"||c==="mp4"){h._wD(j+": Using flash fallback for "+c+" format");h.html5[c]=false;if(a[c]&&a[c].related){for(b=a[c].related.length-1;b>=0;b--){h.html5[a[c].related[b]]=false}}}}}};this._setSandboxType=function(a){var b=h.sandbox;b.type=a;b.description=b.types[typeof b.types[a]!=="undefined"?a:"unknown"];h._wD("Flash security sandbox type: "+b.type);if(b.type==="localWithFile"){b.noRemote=true;b.noLocal=false;C("secNote",2)}else if(b.type==="localWithNetwork"){b.noRemote=false;b.noLocal=true}else if(b.type==="localTrusted"){b.noRemote=false;b.noLocal=false}};this._externalInterfaceOK=function(a,b){if(h.swfLoaded){return false}var c,d=(new Date).getTime();h._wD(k+"externalInterfaceOK()"+(a?" (~"+(d-a)+" ms)":""));w("swf",true);w("flashtojs",true);h.swfLoaded=true;bU=false;if(bR){bG()}if(!b||b.replace(/\+dev/i,"")!==h.versionNumber.replace(/\+dev/i,"")){c=j+': Fatal: JavaScript file build "'+h.versionNumber+'" does not match Flash SWF build "'+b+'" at '+h.url+". Ensure both are up-to-date.";setTimeout(function e(){throw new Error(c)},0);return false}if(bM){setTimeout(s,100)}else{s()}};T=function(a,b){function B(a,b){return'<param name="'+a+'" value="'+b+'" />'}function c(){h._wD("-- SoundManager 2 "+h.version+(!h.html5Only&&h.useHTML5Audio?h.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(!h.html5Only?(h.useHighPerformance?", high performance mode, ":", ")+((h.flashPollingInterval?"custom ("+h.flashPollingInterval+"ms)":"normal")+" polling")+(h.wmode?", wmode: "+h.wmode:"")+(h.debugFlash?", flash debug mode":"")+(h.useFlashBlock?", flashBlock mode":""):"")+" --",1)}if(x&&y){return false}if(h.html5Only){L();c();h.oMC=m(h.movieID);s();x=true;y=true;return false}var d=b||h.url,e=h.altURL||d,f="JS/Flash audio component (SoundManager 2)",g,i,j=S(),l,o,p,r=be(),t,u,v,w=null,z=null,A=q.getElementsByTagName("html")[0];z=A&&A.dir&&A.dir.match(/rtl/i);a=typeof a==="undefined"?h.id:a;L();h.url=_(bY?d:e);b=h.url;h.wmode=!h.wmode&&h.useHighPerformance?"transparent":h.wmode;if(h.wmode!==null&&(n.match(/msie 8/i)||!bM&&!h.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){C("spcWmode");h.wmode=null}g={name:a,id:a,src:b,quality:"high",allowScriptAccess:h.allowScriptAccess,bgcolor:h.bgColor,pluginspage:bZ+"www.macromedia.com/go/getflashplayer",title:f,type:"application/x-shockwave-flash",wmode:h.wmode,hasPriority:"true"};if(w!==null){g.width=w;g.height=w}if(h.debugFlash){g.FlashVars="debug=1"}if(!h.wmode){delete g.wmode}if(bM){i=q.createElement("div");o=['<object id="'+a+'" data="'+b+'" type="'+g.type+'" title="'+g.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+bZ+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="'+g.width+'" height="'+g.height+'">',B("movie",b),B("AllowScriptAccess",h.allowScriptAccess),B("quality",g.quality),h.wmode?B("wmode",h.wmode):"",B("bgcolor",h.bgColor),B("hasPriority","true"),h.debugFlash?B("FlashVars",g.FlashVars):"","</object>"].join("")}else{i=q.createElement("embed");for(l in g){if(g.hasOwnProperty(l)){i.setAttribute(l,g[l])}}}W();r=be();j=h.domContainer;if(j){h.oMC=m(h.movieID)||q.createElement("div");if(!h.oMC.id){h.oMC.id=h.movieID;h.oMC.className=bf.swfDefault+" "+r;t=null;p=null;if(!h.useFlashBlock){if(h.useHighPerformance){t={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}}else{t={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};if(z){t.left=Math.abs(parseInt(t.left,10))+"px"}}}if(bN){h.oMC.style.zIndex=1e4}if(!h.debugFlash){for(u in t){if(t.hasOwnProperty(u)){h.oMC.style[u]=t[u]}}}try{if(!bM){h.oMC.appendChild(i)}j.appendChild(h.oMC);if(bM){p=h.oMC.appendChild(q.createElement("div"));p.className=bf.swfBox;p.innerHTML=o}y=true}catch(D){throw new Error(bc("domError")+" \n"+D.toString())}}else{v=h.oMC.className;h.oMC.className=(v?v+" ":bf.swfDefault)+(r?" "+r:"");h.oMC.appendChild(i);if(bM){p=h.oMC.appendChild(q.createElement("div"));p.className=bf.swfBox;p.innerHTML=o}y=true}}x=true;c();h._wD(k+"createMovie(): Trying to load "+b+(!bY&&h.altURL?" (alternate URL)":""),1);return true};O=function(){if(h.html5Only){T();return false}if(i){return false}i=h.getMovie(h.id);if(!i){if(!ba){T(h.id,h.url)}else{if(!bM){h.oMC.appendChild(ba)}else{h.oMC.innerHTML=bb}ba=null;x=true}i=h.getMovie(h.id)}if(i){C("waitEI")}if(h.oninitmovie instanceof Function){setTimeout(h.oninitmovie,1)}return true};J=function(){setTimeout(K,1e3)};K=function(){if(bl){return false}bl=true;bB.remove(o,"load",J);if(bU&&!bT){C("waitFocus");return false}var a;if(!z){a=h.getMoviePercent();h._wD(bc("waitImpatient",a===100?" (SWF loaded)":a>0?" (SWF "+a+"% loaded)":""))}setTimeout(function(){a=h.getMoviePercent();if(!z){h._wD(j+": No Flash response within expected time.\nLikely causes: "+(a===0?"Loading "+h.movieURL+" may have failed (and/or Flash "+t+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(h.debugFlash?" "+bc("checkSWF"):""),2);if(!bY&&a){C("localFail",2);if(!h.debugFlash){C("tryDebug",2)}}if(a===0){h._wD(bc("swf404",h.url))}w("flashtojs",false,": Timed out"+bY?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")}if(!z&&bV){if(a===null){if(h.useFlashBlock||h.flashLoadTimeout===0){if(h.useFlashBlock){bd()}C("waitForever")}else{$(true)}}else{if(h.flashLoadTimeout===0){C("waitForever")}else{$(true)}}}},h.flashLoadTimeout)};M=function(){function a(){bB.remove(o,"focus",M);bB.remove(o,"load",M)}if(bT||!bU){a();return true}bV=true;bT=true;h._wD(k+"handleFocus()");if(bO&&bU){bB.remove(o,"mousemove",M)}bl=false;a();return true};bI=function(){var a,b=[];if(h.useHTML5Audio&&h.hasHTML5){for(a in h.audioFormats){if(h.audioFormats.hasOwnProperty(a)){b.push(a+": "+h.html5[a]+(!h.html5[a]&&bE&&h.flash[a]?" (using flash)":h.preferFlash&&h.flash[a]&&bE?" (preferring flash)":!h.html5[a]?" ("+(h.audioFormats[a].required?"required, ":"")+"and no flash support)":""))}}h._wD("-- SoundManager 2: HTML5 support tests ("+h.html5Test+"): "+b.join(", ")+" --",1)}};E=function(a){if(z){return false}if(h.html5Only){h._wD("-- SoundManager 2: loaded --");z=true;I();w("onload",true);return true}var b=h.useFlashBlock&&h.flashLoadTimeout&&!h.getMoviePercent(),c;if(!b){z=true;if(A){c={type:!bE&&bt?"NO_FLASH":"INIT_TIMEOUT"}}}h._wD("-- SoundManager 2 "+(A?"failed to load":"loaded")+" ("+(A?"security/load error":"OK")+") --",1);if(A||a){if(h.useFlashBlock&&h.oMC){h.oMC.className=be()+" "+(h.getMoviePercent()===null?bf.swfTimedout:bf.swfError)}H({type:"ontimeout",error:c});w("onload",false);U(c);return false}else{w("onload",true)}if(h.waitForWindowLoad&&!B){C("waitOnload");bB.add(o,"load",I);return false}else{if(h.waitForWindowLoad&&B){C("docLoaded")}I()}return true};s=function(){function a(){bB.remove(o,"load",h.beginDelayedInit)}C("init");if(z){C("didInit");return false}if(h.html5Only){if(!z){a();h.enabled=true;E()}return true}O();try{C("flashJS");i._externalInterfaceTest(false);V(true,h.flashPollingInterval||(h.useHighPerformance?10:50));if(!h.debugMode){i._disableDebug()}h.enabled=true;w("jstoflash",true);if(!h.html5Only){bB.add(o,"unload",r)}}catch(b){h._wD("js/flash exception: "+b.toString());w("jstoflash",false);U({type:"JS_TO_FLASH_EXCEPTION",fatal:true});$(true);E();return false}E();a();return true};P=function(){J();if(R){return false}R=true;W();(function(){var a="sm2-usehtml5audio=",b=p.toLowerCase(),c=null,d="sm2-preferflash=",e=null,f=typeof console!=="undefined"&&typeof console.log!=="undefined";if(b.indexOf(a)!==-1){c=b.charAt(b.indexOf(a)+a.length)==="1";if(f){console.log((c?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter")}h.useHTML5Audio=c}if(b.indexOf(d)!==-1){e=b.charAt(b.indexOf(d)+d.length)==="1";if(f){console.log((e?"Enabling ":"Disabling ")+"preferFlash via URL parameter")}h.preferFlash=e}})();if(!bE&&h.hasHTML5){h._wD("SoundManager: No Flash detected"+(!h.useHTML5Audio?", enabling HTML5.":". Trying HTML5-only mode."));h.useHTML5Audio=true;h.preferFlash=false}bA();h.html5.usingFlash=bu();bt=h.html5.usingFlash;bI();if(!bE&&bt){h._wD("SoundManager: Fatal error: Flash is needed to play some required formats, but is not available.");h.flashLoadTimeout=1}if(q.removeEventListener){q.removeEventListener("DOMContentLoaded",P,false)}O();return true};Q=function(){B=true;bB.remove(o,"load",Q)};bF();bB.add(o,"focus",M);bB.add(o,"load",M);bB.add(o,"load",Q);if(bO&&bU){bB.add(o,"mousemove",M)}this.appended=function(){P();return this}}var b=function(a,b,c){if(a.indexOf){return a.indexOf.call(a,b,c)}for(var d=c||0;d<a.length;d++){if(a[d]==b){return d}}return-1};var c=function(a,c,d,e){var f=a||{};for(var g in c){if(!e||b(e,g)>-1){if(!d||b(d,g)==-1){f[g]=c[g]}}}return f};var d=null;if(typeof SM2_DEFER=="undefined"||!SM2_DEFER){}a.SoundManager=e;a.soundManager=d})(window)